<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="Automatic provision system for a lot of small sites">
  <title>1000 sites provision system</title>
  <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type='image/png' sizes="16x16" />
  <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet" crossorigin="anonymous">
  <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}" crossorigin="anonymous" defer></script>
  <style>
    body {
      padding-top: 80px;
    }
  </style>
</head>
<body>
<main>
<div>
  <nav class="navbar navbar-expand-md navbar-dark fixed-top bg-dark">
    <div class="container-fluid">
      <div class="d-flex align-items-center me-auto">
        <a class="navbar-brand" href="/">–°–∏—Å—Ç–µ–º–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ–≥–æ —Ä–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è —Å–∞–π—Ç—ñ–≤:</a>
        <span class="spinner-border text-warning ms-2" role="status" id="spinnerLoading" style="visibility: hidden;"></span>
      </div>
      <div class="dropdown mx-auto">
        <a class="btn btn-success dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-bs-toggle="dropdown" aria-expanded="false">üöÄ–û—Å–Ω–æ–≤–Ω–µ –º–µ–Ω—é –¥—ñ–π:</a>
        <ul class="dropdown-menu">
          <li><a href="/" class="btn btn-info dropdown-item">‚¨Ö–ù–∞ –≥–æ–ª–æ–≤–Ω—É</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/upload" class="btn btn-success">üíæ–î–æ–¥–∞—Ç–∏ –Ω–æ–≤–∏–π —Å–∞–π—Ç –≤—Ä—É—á–Ω—É</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/provision" class="btn btn-success">üíΩ–†–æ–∑–≥–æ—Ä–Ω—É—Ç–∏ —Å–∞–π—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/logs" class="btn btn-secondary">üì©–õ–æ–≥ —Ä–æ–±–æ—Ç–∏ –ø—Ä–æ–≥—Ä–∞–º–∏</a></li>
          <li><hr class="dropdown-divider"></li>
          <li><a class="dropdown-item" href="/cloudflare_domains" class="btn btn-secondary"><img src="https://dash.cloudflare.com/favicon.ico" width="20px" height="20px">–†–æ–±–æ—Ç–∞ –∑ –¥–æ–º–µ–Ω–∞–º–∏ CloudFlare</a></li>
          <li><hr class="dropdown-divider"></li>
          {{admin_panel|safe}}
        </ul>
      </div>
      <div class="mx-auto">
        <a href="/redirects_manager?site={{sitename|safe}}" class="btn btn-info">–ù–∞–∑–∞–¥ –¥–æ –º–µ–Ω–µ–¥–∂–µ—Ä–∞ —Ä–µ–¥—ñ—Ä–µ–∫—Ç—ñ–≤</a>
      </div>
      <div class="ms-auto d-flex align-items-center">
        <form class="d-flex" action="/logout" method="POST">
          <button class="btn btn-outline-warning" type="submit" id="logoutButton" name="logout">üèÉ{{current_user.realname}}&nbsp;–í–∏—Ö—ñ–¥</button>
        </form>
      </div>
    </div>
  </nav>
</div>
<div class="container">
  <div class="row justify-content-center">
    <div class="col-12 col-md-10 col-lg-8 col-xl-8">
      <div class="card mx-auto">
        <div class="card-header">
          <h5 style="text-align: center;">–î–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–¥—ñ—Ä–µ–∫—Ç—ñ–≤ –¥–ª—è {{sitename|safe}}:</h5>
        </div>
        <div class="card-body">
          <form action="/upload_redirects" method="POST" enctype="multipart/form-data">
          <p class="card-text">–ú–æ–∂–µ—Ç–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏ .CSV —Ñ–∞–π–ª –∑ –≤–∞—à–∏–º–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç–∞–º–∏.</p>
          <span class="badge rounded-pill bg-info text-dark">–ü—Ä–∏–∫–ª–∞–¥ –≤–º—ñ—Å—Ç—É .CSV —Ñ–∞–π–ª—É:</span>
          <p>–•–æ—á–µ–º–æ –∑—Ä–æ–±–∏—Ç–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç –∑ <font color=blue>https://site.com</font><font color=red>/news/latest/</font> –Ω–∞ <font color=blue>https://site.com</font><font color=orange>/hottest/latest/</font>:</p>
          <p><strong>–°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—ñ–π —Ç–µ–∫—Å—Ç–æ–≤–∏–π —Ñ–∞–π–ª, –Ω–∞–ø—Ä–∏–∫–ª–∞–¥ some_file.csv. –î–æ–¥–∞–π—Ç–µ —Å—Ç—Ä–æ–∫—É –≤ —Ñ–∞–π–ª:</strong></p>
          <p><strong>/news/latest/,/hottest/latest/</strong></p>
          <p>–æ–¥–∏–Ω —Ä–µ–¥—ñ—Ä–µ–∫—Ç –Ω–∞ –∫–æ–∂–Ω—É —Å—Ç—Ä–æ–∫—É. –°–∞–º –¥–æ–º–µ–Ω –≤ —à–ª—è—Ö—É "–∑–≤—ñ–¥–∫–∏ —Ä–µ–¥—ñ—Ä–µ–∫—Ç" –Ω–µ –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑—É–≤–∞—Ç–∏.–¢—ñ–ª—å–∫–∏ –≤–∂–µ –≤ "—Ä–µ–¥—ñ—Ä–µ–∫—Ç –∫—É–¥–∏".</p>
          <input type="file" class="form-control form-control-sm w-100" name="fileUpload" id="fileUpload">
          <p class="card-text">–∞–±–æ –¥–æ–¥–∞–π—Ç–µ –æ–¥–∏–Ω —Ä–µ–¥—ñ—Ä–µ–∫—Ç –ø—Ä—è–º –æ—Å—å —Ç—É—Ç:</p>
          <div class="row g-2">
            <div class="col-12 col-md-4">
              <span class="input-group-text" id="RedirectFromField">–†–µ–¥—ñ—Ä–µ–∫—Ç –∑: &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{{sitename|safe}}</span>
            </div>
            <div class="col-12 col-md-8">
              <input type="text" class="form-control w-100" placeholder="/page/subpage/oldpage/" name="RedirectFromField">
            </div>
            <div class="col-12 col-md-4">
              <span class="input-group-text" id="RedirectToField" >–†–µ–¥—ñ—Ä–µ–∫—Ç –∫—É–¥–∏: {{sitename|safe}}</span>
            </div>
            <div class="col-12 col-md-8">
              <input type="text" class="form-control w-100" placeholder="/page/newpage/" name="RedirectToField">
            </div>
          </div>
          <p class="card-text">–Ø–∫—â–æ –±—É–≤ –æ–±—Ä–∞–Ω —Ñ–∞–π–ª, —Ç–æ —Ü–µ–π —Ñ–∞–π–ª —ñ –±—É–¥–µ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–∏–π.–¢–µ–∫—Å—Ç–æ–≤—ñ –ø–æ–ª—è –≤–∏—â–µ –±—É–¥—É—Ç —ñ–≥–Ω–æ—Ä—É–≤–∞—Ç–∏—Å—è.<br>–Ø–∫—â–æ —Ñ–∞–π–ª –Ω–µ –æ–±—Ä–∞–Ω,—Ç–æ –¥–∞–Ω—ñ —ñ–∑ —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –ø–æ–ª—ñ–≤ –≤–∏—â–µ –±—É–¥—É—Ç—å –∑–∞–≤–∞—Ç–∞–∂–µ–Ω—ñ.</p>
          <div class="mb-3">
          <span class="badge rounded-pill bg-info text-dark">–û–±–µ—Ä—ñ—Ç—å —Ç–∏–ø —Ä–µ–¥—ñ—Ä–µ–∫—Ç—É:</span>
            <select class="form-select form-select-sm w-100" name="templateField">
              <option value="strict">= –¢–æ—á–Ω–∏–π (—Ç–æ—á–Ω–∞ –≤–∫–∞–∑–∞–Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫–∞,–Ω—ñ—è–∫—ñ —ñ–Ω—à—ñ)</option>
              <option value="catch all">~ –í—Å—ñ —Å—Ö–æ–∂—ñ (—Ä–µ–¥—ñ—Ä–µ–∫—Ç –≤—Å—å–æ–≥–æ,—â–æ –ø–æ—á–∏–Ω–∞—î—Ç—å—Å—è –∑ –∑–∞–¥–∞–Ω–æ—ó —Å—Ç—Ä–æ–∫–∏ —ñ –¥–∞–ª—ñ –Ω–µ –≤–∞–∂–ª–∏–≤–æ —â–æ)</option>
            </select>
            </div>
            <div class="d-grid mt-2 col-12 col-md-4 mx-auto">
              <input type="hidden" name="sitename" value="{{sitename|safe}}">
              <button type="submit" class="btn btn-info" name="addnewSubmit" value="addnewSubmit">–ü–æ—á–∞—Ç–∏ –¥–æ–¥–∞–≤–∞–Ω–Ω—è —Ä–µ–¥–∏—Ä–µ–∫—Ç—ñ–≤</button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </div>
</div>
<script>
  function showLoading() {
    document.getElementById("spinner").style.visibility = "visible";
  }

  document.addEventListener("DOMContentLoaded", function () {
  const modalElement = document.getElementById("myModal");
  if (modalElement) {
    const modal = new bootstrap.Modal(modalElement);
    modal.show();
  }
  });
</script>
</main>
</body>
</html>
